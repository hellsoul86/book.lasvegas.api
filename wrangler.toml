name = "book-lasvegas-api"
account_id = "9ef45508273746d6ed19ac93e11b76b1"
main = "src/index.ts"
compatibility_date = "2026-02-03"
workers_dev = true

[[routes]]
pattern = "api.lasvegasclaw.ai"
custom_domain = true

[[d1_databases]]
binding = "DB"
database_name = "book-lasvegas-db"
database_id = "9a33c1f5-290c-4333-87f3-76ef25b27410"

[[durable_objects.bindings]]
name = "PRICE_FEED"
class_name = "PriceFeedDO"

[[migrations]]
tag = "v2"
new_classes = ["PriceFeedDO"]

[triggers]
crons = ["*/1 * * * *"]

[vars]
ROUND_DURATION_MIN = "30"
PRICE_REFRESH_MS = "10000"
FLAT_THRESHOLD_PCT = "0.2"
PRICE_STALE_MS = "30000"
HL_WS_URL = "wss://api.hyperliquid.xyz/ws"
HL_FEED = "allMids"
HL_COIN = "BTC"
HL_INFO_URL = "https://api.hyperliquid.xyz/info"
LOCK_WINDOW_MIN = "10"
SIGNATURE_WINDOW_SEC = "300"
KLINE_DEFAULT_INTERVALS = "1m,5m,1h"
KLINE_DEFAULT_LIMIT = "200"
KLINE_MAX_LIMIT = "500"
KLINE_CACHE_SEC = "15"
